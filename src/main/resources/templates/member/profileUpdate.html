<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css2?family=Bagel+Fat+One&display=swap" rel="stylesheet">
<link th:href = "@{css/profileUpdate.css}" rel="stylesheet">
<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

</head>


<div class = "container my-5 d-flex justify-content-center" id="global-content">
	<div class = "formBox">
		<div class = "row d-flex justify-content-center">
			<div class = "col" style = "width:450px;">
				<h2 class="text-center" style="font-family: Bagel Fat One, system-ui; font-size: 60px; margin: 100px;">
					프로필 수정
				</h2>
						
				<form action="memberUpdateResult" name="memberUpdateForm" method="post" id="memberUpdateForm">
	
				<input type="hidden" name="isIdCheck" id="isIdCheck" value="true"/>
		
	
					<div class = "row my-4"> 
						<div class = "col">
							<label for="memberId" class="form-label">* 아이디</label>
							<div class="input-group">
								<input type="text" class="form-control" id="memberId" name="memberId"
									aria-describedby="idHelp" placeholder="아이디" th:value="${session.member.memberId}" readonly>
							</div>				
						</div>			
					</div>
					
					<div class="row my-4">
						<div class="col">
							<label for="oldPass" class="form-label">* 기존 비밀번호</label>
							<div class="input-group">
			                  <input type="password" class="form-control" name="oldPass" id="oldPass" placeholder="기존 비밀번호 입력"> 
			                  <input type="button" class="btn btn-custom-danger2" id="btnPassCheck" value="비밀번호 확인">
							</div>
						</div>
					</div>
					
					<div class="row my-4">
						<div class="col">
							<label for="pass1" class="form-label">* 새 비밀번호</label>
							<div class="input-group">
                 				 <input type="password" class="form-control mb-2" name="pass1" id="pass1" placeholder="새 비밀번호 입력"> 
							</div>
						</div>
					</div>

					<div class="row my-4">
						<div class="col">
							<label for="pass2" class="form-label">* 새 비밀번호 확인</label>
							<div class="input-group">
								<input type="password" class="form-control" name="pass2"
									id="pass2" placeholder="새 비밀번호 재입력">
							</div>
						</div>
					</div>

					<div class="row my-4">
						<div class="col">
							<label for="memberName" class="form-label">* 이름</label>
							<div class="input-group">
								<input type="text" class="form-control mb-2" name="memberName"
									id="memberName" placeholder="이름 입력">
							</div>
						</div>
					</div>

					<div class="row my-4">
						<div class="col">
							<label for="zipcode" class="form-label">* 우편 번호</label>
							<div class="input-group">
								<input type="text" class="form-control" id="zipcode"
									name="zipcode" maxlength="5" placeholder="우편 번호"
									th:value="${session.member.zipcode}" readonly>
								<button class="btn btn-custom-danger2" type="button"
									id="btnZipcode">우편번호 찾기</button>
							</div>
						</div>
					</div>

					<div class="row my-4">
						<div class="col">
							<label for="address2" class="form-label">* 주소</label>
							<input type="text" class="form-control" id="address1" name="address1" placeholder="주소" th:value="${session.member.address1}" readonly>
							<input type="text" class="form-control" id="address2" name="address2" placeholder="상세주소" th:value="${session.member.address2}">
						</div>
					</div>					
					
					<div class="row my-4">
						<div class="col">
							<label for="mobile2" class="form-label">* 핸드폰 번호</label>
							<div class="row">
								<div class="d-flex justify-content-between">
									<div class="col-md-3">
										<select class="form-select" name="mobile1" id="mobile1">
											<option th:selected="${session.member.mobile.split('-')[0] == '010'}">010</option>
											<option th:selected="${session.member.mobile.split('-')[0] == '011'}">011</option>
											<option th:selected="${session.member.mobile.split('-')[0] == '016'}">016</option>
											<option th:selected="${session.member.mobile.split('-')[0] == '017'}">017</option>
										</select>
									</div>
									-
									<div class="col-md-4">
										<input type="text" class="form-control" name="mobile2"
											id="mobile2" maxlength="4"
											th:value="${session.member.mobile.split('-')[1]}">
									</div>
									-
									<div class="col-md-4">
										<input type="text" class="form-control" name="mobile3"
											id="mobile3" maxlength="4"
											th:value="${session.member.mobile.split('-')[2]}">
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row my-4">
						<div class="col">
							<label for="emailId" class="form-label">* 이메일</label>
							<div class="input-group">
								<input type="text" class="form-control" name="emailId" id="emailId" aria-label="이메일 입력" th:value="${session.member.email.split('@')[0]}"> 
								<span class="input-group-text">@</span> 
								<input type="text" class="form-control" name="emailDomain" id="emailDomain" th:value="${session.member.email.split('@')[1]}"> 
								<select class="form-select" name="selectDomain" id="selectDomain">
									<option>직접입력</option>
									<option value="naver.com">naver.com</option>
									<option value="daum.net">daum.net</option>
									<option value="gmail.com">gmail.com</option>
								</select>
							</div>
						</div>
					</div>


					<div class="row my-4">
						<label for="emailGet" class="form-label">* 이메일 수신</label>
						<div class="col-6">
							<div class="form-check">
								<input type="radio" class="form-check-input" name="emailGet" id="emailOk" value="true" th:checked="${session.member.emailGet}"> 
								<label class="form-check-label" for="emailOk">동의</label>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-check">
								<input type="radio" class="form-check-input" name="emailGet" id="emailNo" value="false" th:checked="${!session.member.emailGet}"> 
								<label class="form-check-label" for="emailNo">비동의</label>
							</div>
						</div>
					</div>

					<div class="row my-4">
						<label for="phone2" class="form-label">자택 전화번호</label>
						<div class="col">
							<div class="row">
								<div class="d-flex justify-content-between">
									<div class="col-md-3">
										<select class="form-select" name="phone1" id="phone1">
											<option th:selected="${! #strings.isEmpty(session.member.phone) ? session.member.phone.split('-')[0] == '02' : false}">02</option>
											<option th:selected="${! #strings.isEmpty(session.member.phone) ? session.member.phone.split('-')[0] == '031' : false}">031</option>
											<option th:selected="${! #strings.isEmpty(session.member.phone) ? session.member.phone.split('-')[0] == '051' : false}">051</option>
										</select>
									</div>
									-
									<div class="col-md-4">
										<input type="text" class="form-control" name="phone2"
											id="phone2" maxlength="4"
											th:value="${session.member != null && session.member.phone != null && #strings.length(session.member.phone) > 0 ? session.member.phone.split('-')[1] : ''}">
									</div>
									- 
									<div class="col-md-4">
										<input type="text" class="form-control" name="phone3"
											id="phone3" maxlength="4"
											th:value="${session.member != null && session.member.phone != null && #strings.length(session.member.phone) > 0 ? session.member.phone.split('-')[2] : ''}">
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class = "row text-center my-5">
						<div class = "col mt-3">
							<button type="submit" class="btn btn-custom-danger2 btn-lg me-2">수정하기</button>
							<a th:href ="@{/}"><button type="button" class="btn btn-outline-secondary btn-lg">취소</button></a>
						</div>
					</div>
		
				
				
				</form>
			</div>
		</div>
			
	</div>	
</div>















<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{js/member.js}"></script>
</html>